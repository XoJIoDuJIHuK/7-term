bottomparticipants


activate Клиент
activate Сервер
Клиент->Сервер: запрос на перевод текста \nс заданной моделью и стилем
Сервер->Сервер: идентификация пользователя \nпо IP-адресу и UserAgent
Redis->Сервер: получение количества использованных\n пользователем попыток перевода
alt Пользователь истратил попытки за текущий час
Сервер->Клиент: сообщение с отказом в переводе
else Пользователь ещё имеет право на перевод
Сервер->g4f: запрос на перевод текста
activate g4f
g4f->Сервер: переведённый текст
deactivate g4f
Сервер->Клиент: переведённый текст
Сервер->Redis: обновление количества использованных\n пользователем попыток перевода
end
deactivate Сервер
deactivate Клиент